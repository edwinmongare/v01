(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[493],{97657:function(e,a,t){Promise.resolve().then(t.bind(t,68041))},68041:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return R}});var l=t(57437),r=t(2265),n=t(89733),o=t(70402),s=t(38472),i=t(4867);let d=[{value:"afijio",label:"Afijio"},{value:"akinyele",label:"Akinyele"},{value:"atiba",label:"Atiba"},{value:"atisbo",label:"Atisbo"},{value:"egbeda",label:"Egbeda"},{value:"ibadan north",label:"Ibadan North"},{value:"ibadan north-east",label:"Ibadan North-East"},{value:"ibadan north west",label:"Ibadan North West"},{value:"ibadan south-east",label:"Ibadan South-East"},{value:"ibadan south west",label:"Ibadan South West"},{value:"ibarapa central",label:"Ibarapa Central"},{value:"ibarapa east",label:"Ibarapa East"},{value:"ibarapa north",label:"Ibarapa North"},{value:"ido",label:"Ido"},{value:"irepo",label:"Irepo"},{value:"iseyin",label:"Iseyin"},{value:"itesiwaju",label:"Itesiwaju"},{value:"iwajowa",label:"Iwajowa"},{value:"kajola",label:"Kajola"},{value:"lagelu",label:"Lagelu"},{value:"ogbomoso north",label:"Ogbomoso North"},{value:"ogbomosho south",label:"Ogbomosho South"},{value:"ogo oluwa",label:"Ogo Oluwa"},{value:"olorunsogo",label:"Olorunsogo"},{value:"oluyole",label:"Oluyole"},{value:"ona ara",label:"Ona Ara"},{value:"orelope",label:"Orelope"},{value:"oriire",label:"Oriire"},{value:"oyo east",label:"Oyo East"},{value:"oyo west",label:"Oyo West"},{value:"saki east",label:"Saki East"},{value:"saki west",label:"Saki West"},{value:"surulere",label:"Surulere"}];var c=t(49354),u=t(36643),f=t(54817),m=t(13304),p=t(74697);m.fC,m.xz;let x=m.h_;m.x8;let b=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,l.jsx)(m.aV,{ref:a,className:(0,c.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});b.displayName=m.aV.displayName,r.forwardRef((e,a)=>{let{className:t,children:r,...n}=e;return(0,l.jsxs)(x,{children:[(0,l.jsx)(b,{}),(0,l.jsxs)(m.VY,{ref:a,className:(0,c.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[r,(0,l.jsxs)(m.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,l.jsx)(p.Z,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}).displayName=m.VY.displayName,r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,l.jsx)(m.Dx,{ref:a,className:(0,c.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})}).displayName=m.Dx.displayName,r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,l.jsx)(m.dk,{ref:a,className:(0,c.cn)("text-sm text-muted-foreground",t),...r})}).displayName=m.dk.displayName;let h=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,l.jsx)(u.mY,{ref:a,className:(0,c.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...r})});h.displayName=u.mY.displayName;let g=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,l.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,l.jsx)(f.Z,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,l.jsx)(u.mY.Input,{ref:a,className:(0,c.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...r})]})});g.displayName=u.mY.Input.displayName,r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,l.jsx)(u.mY.List,{ref:a,className:(0,c.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...r})}).displayName=u.mY.List.displayName;let v=r.forwardRef((e,a)=>(0,l.jsx)(u.mY.Empty,{ref:a,className:"py-6 text-center text-sm",...e}));v.displayName=u.mY.Empty.displayName;let y=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,l.jsx)(u.mY.Group,{ref:a,className:(0,c.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...r})});y.displayName=u.mY.Group.displayName,r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,l.jsx)(u.mY.Separator,{ref:a,className:(0,c.cn)("-mx-1 h-px bg-border",t),...r})}).displayName=u.mY.Separator.displayName;let N=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,l.jsx)(u.mY.Item,{ref:a,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r})});N.displayName=u.mY.Item.displayName;var j=t(21413),w=t(48185),k=t(27776),S=t(3274),_=t(68357),I=t(77209),O=t(16463),C=t(35711),R=()=>{let[e,a]=(0,r.useState)(null),[t,u]=(0,r.useState)(!1),[f,m]=(0,r.useState)(null),[p,x]=r.useState(!1),[b,R]=r.useState(""),[Y,z]=(0,r.useState)([]),E={public_key:"FLWPUBK_TEST-00b01b55e9c9f1b803f17e394069273f-X",tx_ref:Date.now(),amount:200,currency:"NGN",payment_options:"card,mobilemoney,ussd",customer:{email:"user@pacesetter.com",name:"pacesetter"},customizations:{title:"Pacesetter",description:"Payment for certifcate generation"}},A=(0,C.iA)(E),F=(0,O.useRouter)();(0,r.useEffect)(()=>{null!==f&&A({callback:async e=>{if(console.log(e,"response here"),"successful"===e.status)try{await fetch("".concat("http://localhost:3000","/api/orders/").concat(f),{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({_isPaid:!0,_flutterwaveID:"".concat(e.transaction_id)})}),F.push("/view-orders"),k.A.success("We have received payment for your order. Once we approve your request, we shall notify you via email so that you can download your certificate."),console.log(e,"response here")}catch(e){}(0,C.Zv)()},onClose:()=>{}})},[f,A,F]);let[P,T]=(0,r.useState)({surname:"",firstName:"",otherName:"",homeTown:"",compoundOrVillage:""}),V=(e,a)=>{T({...P,[a]:e.target.value})},Z=e=>{Y.includes(e)||z(a=>[...a,e])},D=async a=>{if(a.preventDefault(),e){u(!0);let a=new FormData;a.append("file",e),a.append("_isPaid",String(!1)),a.append("approvedForSale",String("pending")),a.append("price",String(1e3)),a.append("localGovernment",Y.join(",")),Object.entries(P).forEach(e=>{let[t,l]=e;a.append(t,l)});try{let e=await s.Z.post("".concat("http://localhost:3000","/api/orders"),a,{headers:{"Content-Type":"multipart/form-data"}});if(201===e.status){var t,l;k.A.success("Form submitted successfully!"),m(null===(l=e.data)||void 0===l?void 0:null===(t=l.doc)||void 0===t?void 0:t.id),F.refresh()}}catch(e){}}};return(0,l.jsx)(l.Fragment,{children:t?(0,l.jsx)("div",{className:"container relative flex pt-10 flex-col items-center justify-center lg:px-0",children:(0,l.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,l.jsx)(S.Z,{className:"animate-spin h-8 w-8 text-zinc-300"}),(0,l.jsx)("h3",{className:"font-semibold text-xl",children:"Submitting Data..."}),(0,l.jsx)("p",{className:"text-muted-foreground text-sm",children:"This won't take long."})]})}):(0,l.jsx)("div",{className:"container relative flex pt-10 flex-col items-center justify-center lg:px-0",children:(0,l.jsx)("div",{className:"mx-auto flex w-full flex-col justify-center space-y-5 sm:w-[1050px]",children:(0,l.jsxs)(w.Zb,{className:"shadow-lg",children:[(0,l.jsxs)(w.Ol,{children:[(0,l.jsx)(w.ll,{children:"Application Details"}),(0,l.jsx)(w.SZ,{children:"Lets get you started with your state of identification certificate."})]}),(0,l.jsx)(w.aY,{children:(0,l.jsx)("form",{onSubmit:D,children:(0,l.jsxs)("div",{className:"grid w-full items-center gap-7",children:[[{name:"surname",label:"Surname"},{name:"firstName",label:"First Name"},{name:"otherName",label:"Other Name"},{name:"homeTown",label:"Home Town"},{name:"compoundOrVillage",label:"Compound or Village"},{name:"localGovernment",label:"Local Government"}].map(e=>(0,l.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,l.jsx)(o._,{htmlFor:e.name,children:e.label}),"localGovernment"===e.name?(0,l.jsxs)(j.J2,{open:p,onOpenChange:x,children:[(0,l.jsx)(j.xo,{asChild:!0,children:(0,l.jsxs)(n.z,{variant:"outline",role:"combobox","aria-expanded":p,className:"w-full justify-between",children:[Y.length>0?Y.map(e=>{var a;return null===(a=d.find(a=>a.value===e))||void 0===a?void 0:a.label}).join(", "):"Select local state...",(0,l.jsx)(i.jnn,{className:"ml-2 h-4 max-h-7 shrink-0 opacity-50"})]})}),(0,l.jsx)(j.yk,{className:"w-[300px] max-h-[300px] overflow-y-auto p-0",children:(0,l.jsxs)(h,{children:[(0,l.jsx)(g,{placeholder:"Search state...",className:"h-9"}),(0,l.jsx)(v,{children:"No state found."}),(0,l.jsx)(y,{children:d.map(e=>(0,l.jsxs)(N,{value:e.value,onSelect:e=>{Z(e),x(!1)},children:[e.label,(0,l.jsx)(i.nQG,{className:(0,c.cn)("ml-auto h-4 w-4",Y.includes(e.value)?"opacity-100":"opacity-0")})]},e.value))})]})})]}):(0,l.jsx)(I.I,{type:"text",value:P[e.name],onChange:a=>V(a,e.name),placeholder:"Please enter your ".concat(e.label)})]},e.name)),(0,l.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,l.jsx)(o._,{htmlFor:"passport",children:"Passport Image"}),(0,l.jsx)(I.I,{type:"file",onChange:e=>{var t;let l=null===(t=e.target.files)||void 0===t?void 0:t[0];l&&a(l)}})]}),(0,l.jsx)(n.z,{type:"submit",className:"w-full py-4",children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(_.Z,{className:"mr-2"})," Proceed with payment"]})})]})})})]})})})})}},89733:function(e,a,t){"use strict";t.d(a,{d:function(){return i},z:function(){return d}});var l=t(57437),r=t(2265),n=t(71538),o=t(12218),s=t(49354);let i=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,a)=>{let{className:t,variant:r,size:o,asChild:d=!1,...c}=e,u=d?n.g7:"button";return(0,l.jsx)(u,{className:(0,s.cn)(i({variant:r,size:o,className:t})),ref:a,...c})});d.displayName="Button"},48185:function(e,a,t){"use strict";t.d(a,{Ol:function(){return s},SZ:function(){return d},Zb:function(){return o},aY:function(){return c},ll:function(){return i}});var l=t(57437),r=t(2265),n=t(49354);let o=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,l.jsx)("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});o.displayName="Card";let s=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,l.jsx)("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...r})});s.displayName="CardHeader";let i=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,l.jsx)("h3",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});i.displayName="CardTitle";let d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,l.jsx)("p",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})});d.displayName="CardDescription";let c=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,l.jsx)("div",{ref:a,className:(0,n.cn)("p-6 pt-0",t),...r})});c.displayName="CardContent",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,l.jsx)("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter"},77209:function(e,a,t){"use strict";t.d(a,{I:function(){return o}});var l=t(57437),r=t(2265),n=t(49354);let o=r.forwardRef((e,a)=>{let{className:t,type:r,...o}=e;return(0,l.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...o})});o.displayName="Input"},70402:function(e,a,t){"use strict";t.d(a,{_:function(){return d}});var l=t(57437),r=t(2265),n=t(38364),o=t(12218),s=t(49354);let i=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,l.jsx)(n.f,{ref:a,className:(0,s.cn)(i(),t),...r})});d.displayName=n.f.displayName},21413:function(e,a,t){"use strict";t.d(a,{J2:function(){return s},xo:function(){return i},yk:function(){return d}});var l=t(57437),r=t(2265),n=t(61485),o=t(49354);let s=n.fC,i=n.xz,d=r.forwardRef((e,a)=>{let{className:t,align:r="center",sideOffset:s=4,...i}=e;return(0,l.jsx)(n.h_,{children:(0,l.jsx)(n.VY,{ref:a,align:r,sideOffset:s,className:(0,o.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...i})})});d.displayName=n.VY.displayName},49354:function(e,a,t){"use strict";t.d(a,{cn:function(){return n}});var l=t(44839),r=t(96164);function n(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,r.m6)((0,l.W)(a))}}},function(e){e.O(0,[310,868,776,549,708,971,23,744],function(){return e(e.s=97657)}),_N_E=e.O()}]);